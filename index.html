<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Emoji Code</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    /* à¸£à¸µà¹€à¸‹à¹‡à¸•à¸ªà¹„à¸•à¸¥à¹Œà¸à¸·à¹‰à¸™à¸à¸²à¸™ */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        background-color: #f7f7f7;
        color: #333;
        padding: 20px;
    }

    h1 {
        text-align: center;
        margin-bottom: 30px;
        font-weight: normal;
    }

    .container {
        max-width: 600px;
        margin: 0 auto;
    }

    textarea {
        width: 100%;
        min-height: 150px;
        border: 1px solid #ccc;
        padding: 15px;
        font-size: 16px;
        margin-bottom: 20px;
        border-radius: 5px;
        background-color: #fff;
        resize: vertical;
    }

    .options {
        margin-bottom: 20px;
        text-align: center;
    }

    .options label {
        margin-right: 15px;
        font-size: 16px;
    }

    button {
        display: inline-block;
        width: 48%;
        padding: 15px;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-bottom: 20px;
    }

    button.copy {
        background-color: #e67e22;
        color: #fff;
        margin-right: 4%;
    }

    button.clear {
        background-color: #e74c3c;
        color: #fff;
    }

    @media (max-width: 600px) {
        button {
            width: 100%;
            margin-right: 0;
            margin-bottom: 10px;
        }
    }

</style>
</head>
<body>

<div class="container">
    <h1>Emoji Code</h1>

    <textarea id="inputText" placeholder="à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£..."></textarea>

    <div class="options">
        <label><input type="radio" name="mode" value="encode" checked> à¹€à¸‚à¹‰à¸²à¸£à¸«à¸±à¸ª</label>
        <label><input type="radio" name="mode" value="decode"> à¸–à¸­à¸”à¸£à¸«à¸±à¸ª</label>
    </div>

    <div class="button-group">
        <button class="copy" onclick="copyResult()">à¸„à¸±à¸”à¸¥à¸­à¸à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ</button>
        <button class="clear" onclick="clearText()">à¸¥à¹‰à¸²à¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡</button>
    </div>

    <textarea id="outputText" placeholder="à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸ˆà¸°à¹à¸ªà¸”à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ..." readonly></textarea>
</div>

<script>
// à¸Šà¸¸à¸”à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¸ à¸²à¸©à¸²à¹„à¸—à¸¢
const thaiConsonants = 'à¸à¸‚à¸ƒà¸„à¸…à¸†à¸‡à¸ˆà¸‰à¸Šà¸‹à¸Œà¸à¸à¸à¸à¸‘à¸’à¸“à¸”à¸•à¸–à¸—à¸˜à¸™à¸šà¸›à¸œà¸à¸à¸Ÿà¸ à¸¡à¸¢à¸£à¸¥à¸§à¸¨à¸©à¸ªà¸«à¸¬à¸­à¸®';
const thaiVowels = 'à¸°à¸±à¸²à¸´à¸µà¸¶à¸·à¸¸à¸¹à¹€à¹à¹‚à¹ƒà¹„à¹…';
const thaiTonemarks = 'à¹ˆà¹‰à¹Šà¹‹'; // à¸§à¸£à¸£à¸“à¸¢à¸¸à¸à¸•à¹Œ
const thaiSpecials = 'à¹Œà¹†à¸¯à¹à¹'; // à¸­à¸±à¸à¸‚à¸£à¸°à¸à¸´à¹€à¸¨à¸©à¸­à¸·à¹ˆà¸™à¹†
const thaiNumerals = 'à¹à¹‘à¹’à¹“à¹”à¹•à¹–à¹—à¹˜à¹™'; // à¹€à¸¥à¸‚à¹„à¸—à¸¢

const thaiChars = thaiConsonants + thaiVowels + thaiTonemarks + thaiSpecials + thaiNumerals;

// à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¸ à¸²à¸©à¸²à¸­à¸±à¸‡à¸à¸¤à¸©à¹à¸¥à¸°à¸­à¸±à¸à¸‚à¸£à¸°à¸à¸´à¹€à¸¨à¸©
const englishChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
const specialChars = '!@#$%^&*()_+-=[]{}|;:\'",.<>/?`~';

// à¸£à¸§à¸¡à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
const fullChars = thaiChars + englishChars + specialChars;

// à¸ªà¸£à¹‰à¸²à¸‡à¸­à¸²à¸£à¹Œà¹€à¸£à¸¢à¹Œà¸‚à¸­à¸‡à¸­à¸´à¹‚à¸¡à¸ˆà¸´à¸—à¸µà¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¸«à¸¥à¸²à¸à¸«à¸¥à¸²à¸¢à¸¡à¸²à¸à¸‚à¸¶à¹‰à¸™
const pigpenEmojis = [
    'ğŸ˜€','ğŸ˜','ğŸ˜‚','ğŸ¤£','ğŸ˜ƒ','ğŸ˜„','ğŸ˜…','ğŸ˜†','ğŸ˜‰','ğŸ˜Š',
    'ğŸ˜‹','ğŸ˜','ğŸ˜','ğŸ˜˜','ğŸ˜—','ğŸ˜™','ğŸ˜š','ğŸ™‚','ğŸ¤—','ğŸ¤©',
    'ğŸ¤”','ğŸ¤¨','ğŸ˜','ğŸ˜‘','ğŸ˜¶','ğŸ™„','ğŸ˜','ğŸ˜£','ğŸ˜¥','ğŸ˜®',
    'ğŸ¤','ğŸ˜¯','ğŸ˜ª','ğŸ˜«','ğŸ˜´','ğŸ˜Œ','ğŸ˜›','ğŸ˜œ','ğŸ˜','ğŸ¤¤',
    'ğŸ˜’','ğŸ˜“','ğŸ˜”','ğŸ˜•','ğŸ™ƒ','ğŸ¤‘','ğŸ˜²','â˜¹ï¸','ğŸ™','ğŸ˜–',
    'ğŸ˜','ğŸ˜Ÿ','ğŸ˜¤','ğŸ˜¢','ğŸ˜­','ğŸ˜¦','ğŸ˜§','ğŸ˜¨','ğŸ˜©','ğŸ¤¯',
    'ğŸ˜¬','ğŸ˜°','ğŸ˜±','ğŸ¥µ','ğŸ¥¶','ğŸ˜³','ğŸ¤ª','ğŸ˜µ','ğŸ˜¡','ğŸ˜ ',
    'ğŸ¤¬','ğŸ˜·','ğŸ¤’','ğŸ¤•','ğŸ¤¢','ğŸ¤®','ğŸ¤§','ğŸ˜‡','ğŸ¥°','ğŸ¤ ',
    'ğŸ¤¡','ğŸ¥³','ğŸ¥´','ğŸ¥º','ğŸ¤¥','ğŸ¤«','ğŸ¤­','ğŸ§','ğŸ¤“','ğŸ˜ˆ',
    'ğŸ‘¿','ğŸ‘¹','ğŸ‘º','ğŸ’€','ğŸ‘»','ğŸ‘½','ğŸ¤–','ğŸ’©','ğŸ˜º','ğŸ˜¸',
    'ğŸ˜¹','ğŸ˜»','ğŸ˜¼','ğŸ˜½','ğŸ™€','ğŸ˜¿','ğŸ˜¾','ğŸ¶','ğŸ±','ğŸ­',
    'ğŸ¹','ğŸ°','ğŸ¦Š','ğŸ»','ğŸ¼','ğŸ¨','ğŸ¯','ğŸ¦','ğŸ®','ğŸ·',
    'ğŸ½','ğŸ¸','ğŸµ','ğŸ™ˆ','ğŸ™‰','ğŸ™Š','ğŸ’','ğŸ”','ğŸ§','ğŸ¦',
    'ğŸ¤','ğŸ£','ğŸ¥','ğŸ¦†','ğŸ¦…','ğŸ¦‰','ğŸ¦‡','ğŸº','ğŸ—','ğŸ´',
    'ğŸ¦„','ğŸ','ğŸ›','ğŸ¦‹','ğŸŒ','ğŸ','ğŸœ','ğŸ¦—','ğŸ•·','ğŸ•¸',
    'ğŸ¦‚','ğŸ¢','ğŸ','ğŸ¦','ğŸ¦–','ğŸ¦•','ğŸ™','ğŸ¦‘','ğŸ¦','ğŸ¦€',
    'ğŸ¡','ğŸ ','ğŸŸ','ğŸ¬','ğŸ³','ğŸ‹','ğŸ¦ˆ','ğŸŠ','ğŸ…','ğŸ†',
    'ğŸ¦“','ğŸ¦','ğŸ˜','ğŸ¦','ğŸª','ğŸ«','ğŸ¦’','ğŸ¦˜','ğŸƒ','ğŸ‚',
    'ğŸ„','ğŸ','ğŸ–','ğŸ','ğŸ‘','ğŸ','ğŸ“','ğŸ¦ƒ','ğŸ•Š','ğŸ‡',
    'ğŸ','ğŸ€','ğŸ¿','ğŸ¦”','ğŸ¾','ğŸ‰','ğŸ²','ğŸŒµ','ğŸ„','ğŸŒ²',
    'ğŸŒ³','ğŸŒ´','ğŸŒ±','ğŸŒ¿','â˜˜ï¸','ğŸ€','ğŸ','ğŸ‹','ğŸƒ','ğŸ‚',
    'ğŸ','ğŸ„','ğŸŒ¾','ğŸ’','ğŸŒ·','ğŸŒ¹','ğŸ¥€','ğŸŒº','ğŸŒ¸','ğŸŒ¼',
    'ğŸŒ»','ğŸŒ','ğŸŒ','ğŸŒ›','ğŸŒš','ğŸŒœ','ğŸŒ™','â­','ğŸŒŸ','ğŸ’«',
    'âœ¨','âš¡','â˜„ï¸','ğŸ’¥','ğŸ”¥','ğŸŒª','ğŸŒˆ','â˜€ï¸','ğŸŒ¤','â›…',
    'ğŸŒ¥','â˜ï¸','ğŸŒ¦','ğŸŒ§','â›ˆ','ğŸŒ©','ğŸŒ¨','â„ï¸','â˜ƒï¸','â›„',
    'ğŸŒ¬','ğŸ’¨','ğŸ’§','ğŸ’¦','â˜”','â˜‚ï¸','ğŸŒŠ','ğŸŒ«','ğŸ','ğŸ',
    'ğŸ','ğŸŠ','ğŸ‹','ğŸŒ','ğŸ‰','ğŸ‡','ğŸ“','ğŸˆ','ğŸ’','ğŸ‘',
    'ğŸ¥­','ğŸ','ğŸ¥¥','ğŸ¥','ğŸ…','ğŸ†','ğŸ¥‘','ğŸ¥¦','ğŸ¥¬','ğŸ¥’',
    'ğŸŒ¶','ğŸŒ½','ğŸ¥•','ğŸ¥”','ğŸ ','ğŸ¥','ğŸ','ğŸ¥–','ğŸ¥¨','ğŸ§€',
    'ğŸ¥š','ğŸ³','ğŸ¥','ğŸ¥“','ğŸ¥©','ğŸ—','ğŸ–','ğŸŒ­','ğŸ”','ğŸŸ',
    'ğŸ•','ğŸ¥ª','ğŸ¥™','ğŸŒ®','ğŸŒ¯','ğŸ¥—','ğŸ¥˜','ğŸ','ğŸœ','ğŸ²',
    'ğŸ¥','ğŸ¥ ','ğŸ£','ğŸ±','ğŸ›','ğŸš','ğŸ™','ğŸ˜','ğŸ¢','ğŸ¡',
    'ğŸ§','ğŸ¨','ğŸ¦','ğŸ¥§','ğŸ§','ğŸ°','ğŸ‚','ğŸ®','ğŸ­','ğŸ¬',
    'ğŸ«','ğŸ¿','ğŸ©','ğŸª','ğŸŒ°','ğŸ¥œ','ğŸ¯','ğŸ¥›','ğŸ¼','â˜•',
    'ğŸµ','ğŸ¥¤','ğŸ¶','ğŸº','ğŸ»','ğŸ¥‚','ğŸ·','ğŸ¥ƒ','ğŸ¸','ğŸ¹',
    'ğŸ¾','ğŸ¥„','ğŸ´','ğŸ½','ğŸ¥£','ğŸ¥¡','ğŸ¥¢','ğŸš—','ğŸš•','ğŸš™',
    'ğŸšŒ','ğŸš','ğŸ','ğŸš“','ğŸš‘','ğŸš’','ğŸš','ğŸšš','ğŸš›','ğŸšœ',
    'ğŸ›´','ğŸš²','ğŸ›µ','ğŸ','ğŸš¨','ğŸš”','ğŸš','ğŸš˜','ğŸš–','ğŸš¡',
    'ğŸš ','ğŸšŸ','ğŸšƒ','ğŸš‹','ğŸš','ğŸš','ğŸš„','ğŸš…','ğŸšˆ','ğŸš‚',
    'ğŸš†','ğŸš‡','ğŸšŠ','ğŸš‰','âœˆï¸','ğŸ›«','ğŸ›¬','ğŸ›©','ğŸ’º','ğŸ›°',
    'ğŸš€','ğŸ›¸','ğŸš','ğŸ›¶','â›µ','ğŸš¤','ğŸ›¥','ğŸ›³','â›´','ğŸš¢',
    'âš“','ğŸš§','â›½','ğŸš','ğŸš¦','ğŸš¥','ğŸ—º','ğŸ—¿','ğŸ—½','â›²',
    'ğŸ—¼','ğŸ°','ğŸ¯','ğŸ¡','ğŸ¢','ğŸ ','â›±','ğŸ–','ğŸ','ğŸŒ‹',
    'â›°','ğŸ”','ğŸ—»','ğŸ•','â›º','ğŸ ','ğŸ¡','ğŸ˜','ğŸš','ğŸ—',
    'ğŸ­','ğŸ¢','ğŸ¬','ğŸ£','ğŸ¤','ğŸ¥','ğŸ¦','ğŸ¨','ğŸª','ğŸ«',
    'ğŸ©','ğŸ’’','ğŸ›','â›ª','ğŸ•Œ','ğŸ•','ğŸ•‹','â›©','ğŸ›¤','ğŸ›£',
    'ğŸ—¾','ğŸ‘','ğŸ','ğŸŒ…','ğŸŒ„','ğŸŒ ','ğŸ‡','ğŸ†','ğŸŒ‡','ğŸŒ†',
    'ğŸ™','ğŸŒƒ','ğŸŒŒ','ğŸŒ‰','ğŸŒ',
    // à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸à¸´à¹ˆà¸¡à¸­à¸´à¹‚à¸¡à¸ˆà¸´à¹€à¸‚à¹‰à¸²à¹„à¸›à¸­à¸µà¸à¸•à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£
];

// à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸ˆà¸³à¸™à¸§à¸™à¸­à¸´à¹‚à¸¡à¸ˆà¸´à¹€à¸à¸µà¸¢à¸‡à¸à¸­à¸•à¹ˆà¸­à¸ˆà¸³à¸™à¸§à¸™à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ
if (pigpenEmojis.length < fullChars.length) {
    alert('à¸ˆà¸³à¸™à¸§à¸™à¸­à¸´à¹‚à¸¡à¸ˆà¸´à¹„à¸¡à¹ˆà¹€à¸à¸µà¸¢à¸‡à¸à¸­ à¸à¸£à¸¸à¸“à¸²à¹€à¸à¸´à¹ˆà¸¡à¸­à¸´à¹‚à¸¡à¸ˆà¸´à¹ƒà¸™à¸­à¸²à¸£à¹Œà¹€à¸£à¸¢à¹Œ pigpenEmojis');
}

// à¸ªà¸£à¹‰à¸²à¸‡à¹à¸¡à¸›à¸›à¸´à¹‰à¸‡à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¸à¸±à¸šà¸­à¸´à¹‚à¸¡à¸ˆà¸´
const charToEmoji = {};
const emojiToChar = {};

// à¸•à¸±à¸”à¸­à¸´à¹‚à¸¡à¸ˆà¸´à¹ƒà¸«à¹‰à¸¡à¸µà¸ˆà¸³à¸™à¸§à¸™à¹€à¸—à¹ˆà¸²à¸à¸±à¸š fullChars
const emojisToUse = pigpenEmojis.slice(0, fullChars.length);

for (let i = 0; i < fullChars.length; i++) {
    charToEmoji[fullChars[i]] = emojisToUse[i];
    emojiToChar[emojisToUse[i]] = fullChars[i];
}

// à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
function processText() {
    const mode = document.querySelector('input[name="mode"]:checked').value;
    const input = document.getElementById('inputText').value;
    let output = '';

    if (mode === 'encode') {
        for (const char of input) {
            if (charToEmoji[char]) {
                output += charToEmoji[char];
            } else {
                output += char; // à¹€à¸à¹‡à¸šà¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¹€à¸”à¸´à¸¡à¸«à¸²à¸à¹„à¸¡à¹ˆà¸¡à¸µà¹ƒà¸™à¹à¸¡à¸›à¸›à¸´à¹‰à¸‡
            }
        }
    } else {
        let i = 0;
        while (i < input.length) {
            let char = input[i];
            let nextChar = input[i + 1];
            // à¸£à¸§à¸¡ surrogate pairs à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸´à¹‚à¸¡à¸ˆà¸´à¸—à¸µà¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¸¢à¸²à¸§ 2 code units
            if (nextChar && emojiToChar[char + nextChar]) {
                char += nextChar;
                i++;
            }
            if (emojiToChar[char]) {
                output += emojiToChar[char];
            } else {
                output += char;
            }
            i++;
        }
    }

    document.getElementById('outputText').value = output;
}

// à¹€à¸à¸´à¹ˆà¸¡ Event Listener à¹€à¸à¸·à¹ˆà¸­à¹à¸ªà¸”à¸‡à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
document.getElementById('inputText').addEventListener('input', processText);

// à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹‚à¸«à¸¡à¸”à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™ (à¹€à¸‚à¹‰à¸²à¸£à¸«à¸±à¸ª/à¸–à¸­à¸”à¸£à¸«à¸±à¸ª)
const modeRadios = document.querySelectorAll('input[name="mode"]');
modeRadios.forEach(radio => {
    radio.addEventListener('change', processText);
});

function copyResult() {
    const outputText = document.getElementById('outputText');
    outputText.select();
    outputText.setSelectionRange(0, 99999); // à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­

    document.execCommand('copy');
    alert('à¸„à¸±à¸”à¸¥à¸­à¸à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§!');
}

function clearText() {
    document.getElementById('inputText').value = '';
    document.getElementById('outputText').value = '';
}
</script>

</body>
</html>
